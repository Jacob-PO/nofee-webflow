<!-- ğŸš€ ë…¸í”¼ ìƒí’ˆê²€ìƒ‰ v3.2 - HTML+CSS í†µí•© ë²„ì „ -->
<!-- CSS íŒŒì¼ ì—†ì´ ëª¨ë“  ìŠ¤íƒ€ì¼ í¬í•¨, ì•ˆì •ì ì¸ ìƒí’ˆ í´ë¦­ -->

<style>
/* ğŸ¨ ì™„ì „ ë…ë¦½ì ì¸ ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ìŠ¤íƒ€ì¼ - ì›¹í”Œë¡œìš° ë¬´ì‹œ */
.nofee-v3 {
    /* ê¸°ë³¸ ë¦¬ì…‹ */
    margin: 0 !important;
    padding: 0 !important;
    box-sizing: border-box !important;
    
    /* ì›¹í”Œë¡œìš° ì™„ì „ ë¬´ì‹œ */
    position: relative !important;
    z-index: 999 !important;
    width: 100% !important;
    min-height: 100vh !important;
    
    /* ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ë°°ê²½ */
    background: linear-gradient(135deg, 
        #667eea 0%, 
        #764ba2 25%, 
        #f093fb 50%, 
        #f5576c 75%, 
        #4facfe 100%) !important;
    background-size: 400% 400% !important;
    animation: gradientShift 15s ease infinite !important;
    
    /* ê¸°ë³¸ í°íŠ¸ */
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Pretendard', system-ui, sans-serif !important;
    color: #ffffff !important;
    line-height: 1.6 !important;
    
    /* ì™„ì „ í‘œì‹œ */
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

.nofee-v3 * {
    margin: 0 !important;
    padding: 0 !important;
    box-sizing: border-box !important;
    opacity: 1 !important;
    visibility: visible !important;
}

/* ğŸŒˆ ì• ë‹ˆë©”ì´ì…˜ */
@keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes pulseGlow {
    0%, 100% { box-shadow: 0 0 20px rgba(255, 255, 255, 0.1); }
    50% { box-shadow: 0 0 40px rgba(255, 255, 255, 0.3); }
}

/* ğŸ—ï¸ ë©”ì¸ ì»¨í…Œì´ë„ˆ */
.nofee-v3 .main-container {
    max-width: 1400px !important;
    margin: 0 auto !important;
    padding: 40px 20px !important;
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
}

/* ğŸ¯ í—¤ë” ì„¹ì…˜ */
.nofee-v3 .hero-section {
    text-align: center !important;
    margin-bottom: 60px !important;
    animation: slideInUp 0.8s ease-out !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

.nofee-v3 .hero-title {
    font-size: 4rem !important;
    font-weight: 800 !important;
    margin-bottom: 20px !important;
    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 50%, #e9ecef 100%) !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    background-clip: text !important;
    text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3) !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

.nofee-v3 .hero-subtitle {
    font-size: 1.5rem !important;
    font-weight: 300 !important;
    opacity: 0.9 !important;
    margin-bottom: 40px !important;
    color: rgba(255, 255, 255, 0.9) !important;
    visibility: visible !important;
    display: block !important;
}

/* ğŸ›ï¸ í•„í„° ì¹´ë“œ */
.nofee-v3 .filter-card {
    background: rgba(255, 255, 255, 0.1) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
    border-radius: 24px !important;
    padding: 40px !important;
    margin-bottom: 40px !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1) !important;
    animation: slideInUp 0.8s ease-out 0.2s both !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

.nofee-v3 .filter-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)) !important;
    gap: 20px !important;
    margin-bottom: 30px !important;
    opacity: 1 !important;
    visibility: visible !important;
}

.nofee-v3 .filter-group {
    position: relative !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

/* ğŸ¨ ì‹œìŠ¤í…œ ê¸°ë³¸ Select ìŠ¤íƒ€ì¼ */
.nofee-v3 .filter-select {
    width: 100% !important;
    padding: 18px 24px !important;
    background: rgba(255, 255, 255, 0.15) !important;
    border: 2px solid rgba(255, 255, 255, 0.2) !important;
    border-radius: 16px !important;
    color: white !important;
    font-size: 16px !important;
    font-weight: 600 !important;
    cursor: pointer !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    opacity: 1 !important;
    visibility: visible !important;
    outline: none !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
    background-image: url("data:image/svg+xml;charset=US-ASCII,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'><path fill='white' d='M2 0L0 2h4zM2 5L0 3h4z'/></svg>") !important;
    background-repeat: no-repeat !important;
    background-position: right 20px center !important;
    background-size: 12px !important;
    padding-right: 50px !important;
}

.nofee-v3 .filter-select:hover {
    background: rgba(255, 255, 255, 0.25) !important;
    border-color: rgba(255, 255, 255, 0.4) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2) !important;
}

.nofee-v3 .filter-select:focus {
    background: rgba(255, 255, 255, 0.3) !important;
    border-color: rgba(255, 255, 255, 0.6) !important;
    box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.1) !important;
}

.nofee-v3 .filter-select option {
    background: #333 !important;
    color: white !important;
    padding: 12px !important;
    font-weight: 500 !important;
}

/* ğŸ·ï¸ í™œì„± í•„í„° íƒœê·¸ */
.nofee-v3 .active-filters {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 12px !important;
    opacity: 1 !important;
    visibility: visible !important;
}

.nofee-v3 .filter-tag {
    display: inline-flex !important;
    align-items: center !important;
    gap: 8px !important;
    padding: 8px 16px !important;
    background: linear-gradient(135deg, #5c27fe, #7c3aed) !important;
    color: white !important;
    border-radius: 25px !important;
    font-size: 14px !important;
    font-weight: 600 !important;
    box-shadow: 0 4px 15px rgba(92, 39, 254, 0.3) !important;
    opacity: 1 !important;
    visibility: visible !important;
}

.nofee-v3 .filter-remove {
    cursor: pointer !important;
    font-weight: bold !important;
    font-size: 16px !important;
    opacity: 0.8 !important;
    visibility: visible !important;
    transition: opacity 0.2s ease !important;
}

.nofee-v3 .filter-remove:hover {
    opacity: 1 !important;
}

/* ğŸ“Š ìƒí’ˆ ì¹´ìš´í„° */
.nofee-v3 .product-counter {
    text-align: center !important;
    margin-bottom: 40px !important;
    animation: slideInUp 0.8s ease-out 0.4s both !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

.nofee-v3 .counter-text {
    font-size: 1.2rem !important;
    font-weight: 600 !important;
    color: rgba(255, 255, 255, 0.9) !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: inline !important;
}

.nofee-v3 .counter-number {
    font-size: 2rem !important;
    font-weight: 800 !important;
    color: #ffffff !important;
    margin: 0 8px !important;
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3) !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: inline !important;
}

/* ğŸ´ ìƒí’ˆ ê·¸ë¦¬ë“œ */
.nofee-v3 .products-grid {
    display: grid !important;
    grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)) !important;
    gap: 30px !important;
    margin-bottom: 60px !important;
    opacity: 1 !important;
    visibility: visible !important;
}

.nofee-v3 .product-card {
    background: rgba(255, 255, 255, 0.1) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
    border-radius: 24px !important;
    padding: 32px !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    cursor: pointer !important;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
    animation: slideInUp 0.6s ease-out both !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
    position: relative !important;
    overflow: hidden !important;
    user-select: none !important;
}

.nofee-v3 .product-card::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 100%) !important;
    opacity: 0 !important;
    transition: opacity 0.3s ease !important;
    z-index: 1 !important;
}

.nofee-v3 .product-card:hover {
    transform: translateY(-8px) !important;
    box-shadow: 0 30px 80px rgba(0, 0, 0, 0.2) !important;
    border-color: rgba(255, 255, 255, 0.4) !important;
}

.nofee-v3 .product-card:hover::before {
    opacity: 1 !important;
}

.nofee-v3 .product-card:active {
    transform: translateY(-6px) scale(0.98) !important;
}

.nofee-v3 .product-header {
    display: flex !important;
    align-items: center !important;
    gap: 20px !important;
    margin-bottom: 24px !important;
    position: relative !important;
    z-index: 2 !important;
    opacity: 1 !important;
    visibility: visible !important;
}

.nofee-v3 .brand-icon {
    width: 60px !important;
    height: 60px !important;
    border-radius: 16px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    font-weight: 800 !important;
    font-size: 24px !important;
    color: white !important;
    flex-shrink: 0 !important;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2) !important;
    opacity: 1 !important;
    visibility: visible !important;
}

.nofee-v3 .brand-icon.samsung {
    background: linear-gradient(135deg, #1f4e8c, #2b6cb0) !important;
}

.nofee-v3 .brand-icon.apple {
    background: linear-gradient(135deg, #333, #666) !important;
}

.nofee-v3 .brand-icon.etc {
    background: linear-gradient(135deg, #6b46c1, #9333ea) !important;
}

.nofee-v3 .product-info {
    flex: 1 !important;
    opacity: 1 !important;
    visibility: visible !important;
}

.nofee-v3 .product-title {
    font-size: 1.4rem !important;
    font-weight: 700 !important;
    color: white !important;
    margin-bottom: 12px !important;
    line-height: 1.3 !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

.nofee-v3 .product-meta {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 8px !important;
    opacity: 1 !important;
    visibility: visible !important;
}

.nofee-v3 .meta-tag {
    padding: 6px 12px !important;
    background: rgba(255, 255, 255, 0.2) !important;
    color: white !important;
    font-size: 12px !important;
    font-weight: 600 !important;
    border-radius: 20px !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: inline-block !important;
}

/* ğŸ’° ê°€ê²© ì„¹ì…˜ */
.nofee-v3 .price-section {
    position: relative !important;
    z-index: 2 !important;
    opacity: 1 !important;
    visibility: visible !important;
}

.nofee-v3 .price-breakdown {
    margin-bottom: 20px !important;
    opacity: 1 !important;
    visibility: visible !important;
}

.nofee-v3 .price-row {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    padding: 12px 0 !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
    color: rgba(255, 255, 255, 0.9) !important;
    font-weight: 500 !important;
    opacity: 1 !important;
    visibility: visible !important;
}

.nofee-v3 .price-row:last-child {
    border-bottom: none !important;
}

.nofee-v3 .price-total {
    background: linear-gradient(135deg, #5c27fe, #7c3aed) !important;
    border-radius: 16px !important;
    padding: 20px !important;
    text-align: center !important;
    box-shadow: 0 8px 30px rgba(92, 39, 254, 0.3) !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

.nofee-v3 .price-label {
    font-size: 14px !important;
    font-weight: 600 !important;
    color: rgba(255, 255, 255, 0.8) !important;
    margin-bottom: 8px !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

.nofee-v3 .price-value {
    font-size: 2rem !important;
    font-weight: 800 !important;
    color: white !important;
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3) !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

/* âš¡ ë¡œë”© ìƒíƒœ */
.nofee-v3 .loading-state {
    text-align: center !important;
    padding: 80px 20px !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

.nofee-v3 .loading-spinner {
    width: 60px !important;
    height: 60px !important;
    border: 4px solid rgba(255, 255, 255, 0.2) !important;
    border-top: 4px solid white !important;
    border-radius: 50% !important;
    animation: spin 1s linear infinite !important;
    margin: 0 auto 30px !important;
    opacity: 1 !important;
    visibility: visible !important;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.nofee-v3 .loading-text {
    font-size: 1.2rem !important;
    font-weight: 600 !important;
    color: rgba(255, 255, 255, 0.9) !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

/* ğŸš« ì—ëŸ¬ ìƒíƒœ */
.nofee-v3 .error-state {
    text-align: center !important;
    padding: 80px 20px !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

.nofee-v3 .error-icon {
    font-size: 4rem !important;
    margin-bottom: 20px !important;
    opacity: 0.8 !important;
    visibility: visible !important;
}

.nofee-v3 .error-title {
    font-size: 1.8rem !important;
    font-weight: 700 !important;
    color: white !important;
    margin-bottom: 16px !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

.nofee-v3 .error-message {
    font-size: 1.1rem !important;
    color: rgba(255, 255, 255, 0.8) !important;
    margin-bottom: 30px !important;
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

.nofee-v3 .retry-button {
    padding: 16px 32px !important;
    background: linear-gradient(135deg, #5c27fe, #7c3aed) !important;
    color: white !important;
    border: none !important;
    border-radius: 12px !important;
    font-size: 16px !important;
    font-weight: 600 !important;
    cursor: pointer !important;
    transition: all 0.3s ease !important;
    box-shadow: 0 8px 25px rgba(92, 39, 254, 0.3) !important;
    opacity: 1 !important;
    visibility: visible !important;
}

.nofee-v3 .retry-button:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 12px 35px rgba(92, 39, 254, 0.4) !important;
}

/* ğŸ“± ë°˜ì‘í˜• ë””ìì¸ */
@media (max-width: 768px) {
    .nofee-v3 .main-container {
        padding: 20px 16px !important;
    }
    
    .nofee-v3 .hero-title {
        font-size: 2.5rem !important;
    }
    
    .nofee-v3 .hero-subtitle {
        font-size: 1.2rem !important;
    }
    
    .nofee-v3 .filter-grid {
        grid-template-columns: 1fr !important;
    }
    
    .nofee-v3 .products-grid {
        grid-template-columns: 1fr !important;
        gap: 20px !important;
    }
    
    .nofee-v3 .filter-card,
    .nofee-v3 .product-card {
        padding: 24px !important;
    }
}
</style>

<!-- ğŸ¯ ë©”ì¸ HTML êµ¬ì¡° -->
<div class="nofee-v3">
    <div class="main-container">
        <!-- ğŸ¯ íˆì–´ë¡œ ì„¹ì…˜ -->
        <div class="hero-section">
            <h1 class="hero-title">ë…¸í”¼ ìƒí’ˆ ê²€ìƒ‰</h1>
            <p class="hero-subtitle">ì›í•˜ëŠ” ì¡°ê±´ìœ¼ë¡œ ìµœì ì˜ íœ´ëŒ€í° ìš”ê¸ˆì œë¥¼ ì°¾ì•„ë³´ì„¸ìš”</p>
        </div>
        
        <!-- ğŸ›ï¸ í•„í„° ì¹´ë“œ - ì‹œìŠ¤í…œ ê¸°ë³¸ Select ì‚¬ìš© -->
        <div class="filter-card">
            <div class="filter-grid">
                <!-- í†µì‹ ì‚¬ í•„í„° -->
                <div class="filter-group">
                    <select class="filter-select" id="carrierFilter" data-category="carrier">
                        <option value="">í†µì‹ ì‚¬ ì„ íƒ</option>
                        <option value="SKT">SKí…”ë ˆì½¤</option>
                        <option value="KT">KT</option>
                        <option value="LGU">LGìœ í”ŒëŸ¬ìŠ¤</option>
                    </select>
                </div>
                
                <!-- ì œì¡°ì‚¬ í•„í„° -->
                <div class="filter-group">
                    <select class="filter-select" id="brandFilter" data-category="brand">
                        <option value="">ì œì¡°ì‚¬ ì„ íƒ</option>
                        <option value="ì‚¼ì„±">ì‚¼ì„±</option>
                        <option value="ì• í”Œ">ì• í”Œ</option>
                    </select>
                </div>
                
                <!-- ê°€ì…ìœ í˜• í•„í„° -->
                <div class="filter-group">
                    <select class="filter-select" id="typeFilter" data-category="type">
                        <option value="">ê°€ì…ìœ í˜• ì„ íƒ</option>
                        <option value="ë²ˆí˜¸ì´ë™">ë²ˆí˜¸ì´ë™</option>
                        <option value="ê¸°ê¸°ë³€ê²½">ê¸°ê¸°ë³€ê²½</option>
                        <option value="ì‹ ê·œê°€ì…">ì‹ ê·œê°€ì…</option>
                    </select>
                </div>
                
                <!-- ê°œí†µì˜µì…˜ í•„í„° -->
                <div class="filter-group">
                    <select class="filter-select" id="supportFilter" data-category="support">
                        <option value="">ê°œí†µì˜µì…˜ ì„ íƒ</option>
                        <option value="ê³µì‹œì§€ì›">ê³µì‹œì§€ì›</option>
                        <option value="ì„ íƒì•½ì •">ì„ íƒì•½ì •</option>
                    </select>
                </div>
                
                <!-- ì •ë ¬ í•„í„° -->
                <div class="filter-group">
                    <select class="filter-select" id="sortFilter" data-category="sort">
                        <option value="">ì •ë ¬ ì„ íƒ</option>
                        <option value="asc">ì›”ë‚©ë¶€ê¸ˆ ë‚®ì€ìˆœ</option>
                        <option value="desc">ì›”ë‚©ë¶€ê¸ˆ ë†’ì€ìˆœ</option>
                        <option value="discount">í• ì¸ìœ¨ ë†’ì€ìˆœ</option>
                    </select>
                </div>
            </div>
            
            <!-- í™œì„± í•„í„° -->
            <div class="active-filters" id="activeFilters"></div>
        </div>
        
        <!-- ğŸ“Š ìƒí’ˆ ì¹´ìš´í„° -->
        <div class="product-counter">
            <span class="counter-text">ì´</span>
            <span class="counter-number" id="productCount">0</span>
            <span class="counter-text">ê°œ ìƒí’ˆ</span>
        </div>
        
        <!-- ğŸ´ ìƒí’ˆ ê·¸ë¦¬ë“œ -->
        <div class="products-grid" id="productList">
            <!-- ì´ˆê¸° ë¡œë”© ìƒíƒœ -->
            <div class="loading-state" style="grid-column: 1 / -1;">
                <div class="loading-spinner"></div>
                <div class="loading-text">ìƒí’ˆ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
            </div>
        </div>
        
        <!-- ë”ë³´ê¸° ë²„íŠ¼ -->
        <div style="text-align: center; margin-top: 40px;" id="loadMore">
            <button class="retry-button" id="loadMoreBtn" style="display: none;">
                ìƒí’ˆ ë” ë³´ê¸°
            </button>
        </div>
    </div>
</div>

<!-- ğŸš€ ê¸°ë³¸ JavaScript - Select ì´ë²¤íŠ¸ + ì•ˆì •ì ì¸ ìƒí’ˆ í´ë¦­ -->
<script>
(function() {
    'use strict';
    
    console.log('ğŸš€ ë…¸í”¼ v3.2 - HTML+CSS í†µí•© ë²„ì „ ì‹œì‘');
    
    // ğŸ¯ Select ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
    function initSelectFilters() {
        const filterSelects = document.querySelectorAll('.nofee-v3 .filter-select');
        
        filterSelects.forEach(select => {
            select.addEventListener('change', function() {
                const category = this.dataset.category;
                const value = this.value;
                
                console.log(`ğŸ” í•„í„° ì„ íƒ: ${category} = ${value || 'ì „ì²´'}`);
                
                // ì™¸ë¶€ í•„í„° í•¨ìˆ˜ í˜¸ì¶œ (GitHub JSì—ì„œ ì œê³µ)
                if (window.applyFilter) {
                    window.applyFilter(category, value);
                } else {
                    console.log('â³ applyFilter í•¨ìˆ˜ ëŒ€ê¸° ì¤‘...');
                }
            });
        });
        
        console.log('ğŸ® Select í•„í„° ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì • ì™„ë£Œ');
    }
    
    // ğŸ“± ìƒí’ˆ í´ë¦­ ì´ë²¤íŠ¸ ìœ„ì„ (ì•ˆì •ì ì¸ ë²„ì „)
    function initProductClickHandler() {
        document.addEventListener('click', function(e) {
            const productCard = e.target.closest('.product-card');
            if (!productCard) return;
            
            e.preventDefault();
            e.stopPropagation();
            
            console.log('ğŸ“± ìƒí’ˆ ì¹´ë“œ í´ë¦­ ê°ì§€');
            
            // ìƒí’ˆ ë°ì´í„° ì¶”ì¶œ (data ì†ì„±ì—ì„œ)
            try {
                const productData = extractProductDataFromCard(productCard);
                
                if (productData && productData.model) {
                    console.log('ğŸ“¦ ì¶”ì¶œëœ ìƒí’ˆ ë°ì´í„°:', productData);
                    goToAIPage(productData);
                } else {
                    console.error('âŒ ìƒí’ˆ ë°ì´í„° ì¶”ì¶œ ì‹¤íŒ¨ - DOMì—ì„œ ì§ì ‘ ì¶”ì¶œ ì‹œë„');
                    // DOMì—ì„œ ì§ì ‘ ì¶”ì¶œ ì‹œë„
                    const fallbackData = extractProductDataFromDOM(productCard);
                    if (fallbackData && fallbackData.model) {
                        console.log('ğŸ”„ DOMì—ì„œ ì§ì ‘ ì¶”ì¶œ ì„±ê³µ:', fallbackData);
                        goToAIPage(fallbackData);
                    } else {
                        console.error('ğŸ’¥ ëª¨ë“  ë°ì´í„° ì¶”ì¶œ ë°©ë²• ì‹¤íŒ¨');
                    }
                }
            } catch (error) {
                console.error('âŒ ìƒí’ˆ í´ë¦­ ì²˜ë¦¬ ì˜¤ë¥˜:', error);
            }
        });
        
        console.log('ğŸ“± ìƒí’ˆ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì • ì™„ë£Œ');
    }
    
    // ğŸ¯ ìƒí’ˆ ë°ì´í„° ì¶”ì¶œ (data ì†ì„±ì—ì„œ)
    function extractProductDataFromCard(productCard) {
        try {
            const data = {};
            
            // data ì†ì„±ì—ì„œ ì¶”ì¶œ
            const dataset = productCard.dataset;
            if (dataset && Object.keys(dataset).length > 0) {
                Object.keys(dataset).forEach(key => {
                    data[key] = decodeURIComponent(dataset[key] || '');
                });
                
                console.log('âœ… data ì†ì„±ì—ì„œ ì¶”ì¶œ:', data);
                return data;
            }
            
            return null;
            
        } catch (error) {
            console.error('data ì†ì„± ì¶”ì¶œ ì˜¤ë¥˜:', error);
            return null;
        }
    }
    
    // ğŸ¯ ìƒí’ˆ ë°ì´í„° ì¶”ì¶œ (DOMì—ì„œ ì§ì ‘)
    function extractProductDataFromDOM(productCard) {
        try {
            const data = {
                model: '',
                carrier: '',
                brand: '',
                type: '',
                support: '',
                total: '',
                plan: '',
                installment: '',
                originPrice: '',
                principal: '',
                discount: '',
                discountRate: ''
            };
            
            // ëª¨ë¸ëª… ì¶”ì¶œ
            const titleElement = productCard.querySelector('.product-title');
            if (titleElement) {
                data.model = titleElement.textContent.trim();
            }
            
            // ë©”íƒ€ íƒœê·¸ì—ì„œ ì •ë³´ ì¶”ì¶œ
            const metaTags = productCard.querySelectorAll('.meta-tag');
            if (metaTags.length >= 4) {
                data.carrier = metaTags[0].textContent.trim();
                data.brand = metaTags[1].textContent.trim();
                data.type = metaTags[2].textContent.trim();
                data.support = metaTags[3].textContent.trim();
            }
            
            // ì›” ë‚©ë¶€ê¸ˆ ì¶”ì¶œ
            const priceValueElement = productCard.querySelector('.price-value');
            if (priceValueElement) {
                data.total = priceValueElement.textContent.replace(/[^\d]/g, '');
            }
            
            // ê°€ê²© ìƒì„¸ ì •ë³´ ì¶”ì¶œ
            const priceRows = productCard.querySelectorAll('.price-row');
            priceRows.forEach(row => {
                const cells = row.children;
                if (cells.length >= 2) {
                    const label = cells[0].textContent.trim();
                    const value = cells[1].textContent.trim();
                    const numValue = value.replace(/[^\d]/g, '');
                    
                    if (label.includes('ê¸°ê¸°ê°’')) {
                        data.originPrice = numValue;
                    } else if (label.includes('í• ë¶€ì›ê¸ˆ')) {
                        data.installment = numValue;
                    } else if (label.includes('ìš”ê¸ˆì œ')) {
                        data.plan = numValue;
                    } else if (label.includes('ì§€ì›ê¸ˆ')) {
                        data.principal = numValue;
                        // í• ì¸ìœ¨ ì¶”ì¶œ (ê´„í˜¸ ì•ˆì˜ í¼ì„¼íŠ¸)
                        const discountMatch = value.match(/\((\d+)%\)/);
                        if (discountMatch) {
                            data.discountRate = discountMatch[1];
                        }
                        data.discount = numValue;
                    }
                }
            });
            
            console.log('âœ… DOMì—ì„œ ì§ì ‘ ì¶”ì¶œ:', data);
            return data;
            
        } catch (error) {
            console.error('DOM ì§ì ‘ ì¶”ì¶œ ì˜¤ë¥˜:', error);
            return null;
        }
    }
    
    // ğŸ¤– AI í˜ì´ì§€ë¡œ ì´ë™ í•¨ìˆ˜
    function goToAIPage(productData) {
        try {
            // URL íŒŒë¼ë¯¸í„° ìƒì„± (ëª¨ë“  ë°ì´í„° í¬í•¨)
            const params = new URLSearchParams();
            
            // ëª¨ë“  í•„ë“œë¥¼ URL íŒŒë¼ë¯¸í„°ë¡œ ì¶”ê°€
            Object.entries(productData).forEach(([key, value]) => {
                if (value && value !== '') {
                    params.append(key, value);
                }
            });
            
            // ì¶”ê°€ ë©”íƒ€ë°ì´í„°
            if (!params.has('from')) {
                params.append('from', 'search');
            }
            if (!params.has('timestamp')) {
                params.append('timestamp', Date.now().toString());
            }
            
            // localStorageì—ë„ ë°±ì—… ì €ì¥
            try {
                localStorage.setItem('selectedProduct', JSON.stringify(productData));
                localStorage.setItem('selectedProductTime', Date.now().toString());
                console.log('ğŸ’¾ localStorageì— ìƒí’ˆ ë°ì´í„° ì €ì¥ ì™„ë£Œ');
            } catch (storageError) {
                console.warn('âš ï¸ localStorage ì €ì¥ ì‹¤íŒ¨:', storageError);
            }
            
            // AI í˜ì´ì§€ URL ìƒì„±
            const aiUrl = `/ai?${params.toString()}`;
            
            console.log('ğŸ¤– AI í˜ì´ì§€ë¡œ ì´ë™:', aiUrl);
            console.log('ğŸ“‹ URL íŒŒë¼ë¯¸í„° ê°œìˆ˜:', Array.from(params.keys()).length);
            console.log('ğŸ“‹ ì „ì²´ íŒŒë¼ë¯¸í„°:', Object.fromEntries(params));
            
            // í˜ì´ì§€ ì´ë™
            window.location.href = aiUrl;
            
        } catch (error) {
            console.error('âŒ AI í˜ì´ì§€ ì´ë™ ì¤‘ ì˜¤ë¥˜:', error);
            
            // ì˜¤ë¥˜ ì‹œ ê¸°ë³¸ AI í˜ì´ì§€ë¡œ ì´ë™ (ìµœì†Œí•œì˜ íŒŒë¼ë¯¸í„°)
            const fallbackUrl = `/ai?model=${encodeURIComponent(productData.model || 'ìƒí’ˆì •ë³´ì—†ìŒ')}&from=search_error`;
            console.log('ğŸ”„ í´ë°± URLë¡œ ì´ë™:', fallbackUrl);
            window.location.href = fallbackUrl;
        }
    }
    
    // ğŸ¯ ì™¸ë¶€ GitHub ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ
    function loadExternalScript() {
        const script = document.createElement('script');
        script.src = 'https://jacob-po.github.io/nofee-webflow/pages/more.js?v=' + Date.now();
        
        script.onload = function() {
            console.log('âœ… GitHub ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì„±ê³µ');
            
            setTimeout(() => {
                if (window.initProductSearch) {
                    console.log('ğŸš€ ìƒí’ˆ ê²€ìƒ‰ ì´ˆê¸°í™” ì‹œì‘');
                    window.initProductSearch();
                } else {
                    console.log('â³ ì´ˆê¸°í™” í•¨ìˆ˜ ëŒ€ê¸° ì¤‘...');
                    setTimeout(() => {
                        if (window.initProductSearch) {
                            window.initProductSearch();
                        } else {
                            showError();
                        }
                    }, 3000);
                }
            }, 500);
        };
        
        script.onerror = function() {
            console.error('âŒ GitHub ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì‹¤íŒ¨');
            showError();
        };
        
        document.head.appendChild(script);
        console.log('ğŸ“¡ GitHub ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì‹œì‘...');
    }
    
    // ğŸš« ì—ëŸ¬ í‘œì‹œ
    function showError() {
        const productList = document.getElementById('productList');
        if (!productList) return;
        
        productList.innerHTML = `
            <div class="error-state" style="grid-column: 1 / -1;">
                <div class="error-icon">âš ï¸</div>
                <h3 class="error-title">ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨</h3>
                <p class="error-message">ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•˜ê³  ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”</p>
                <button class="retry-button" onclick="location.reload()">ìƒˆë¡œê³ ì¹¨</button>
            </div>
        `;
        
        console.log('ğŸš« ì—ëŸ¬ ìƒíƒœ í‘œì‹œ');
    }
    
    // ğŸš€ ì´ˆê¸°í™”
    function init() {
        console.log('ğŸ¯ ê¸°ë³¸ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì‹œì‘');
        
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', function() {
                initSelectFilters();
                initProductClickHandler();
                loadExternalScript();
            });
        } else {
            initSelectFilters();
            initProductClickHandler();
            loadExternalScript();
        }
        
        console.log('âœ¨ ê¸°ë³¸ UI ë° ì´ë²¤íŠ¸ ì„¤ì • ì™„ë£Œ');
    }
    
    // íƒ€ì„ì•„ì›ƒ ë³´í˜¸
    setTimeout(() => {
        const productList = document.getElementById('productList');
        if (productList && productList.querySelector('.loading-state')) {
            console.log('â° 15ì´ˆ íƒ€ì„ì•„ì›ƒ - ì—ëŸ¬ í‘œì‹œ');
            showError();
        }
    }, 15000);
    
    // ì¦‰ì‹œ ì´ˆê¸°í™”
    init();
    
})();
</script>
